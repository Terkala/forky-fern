- type: entity
  id: SawBonesStep
  components:
  - type: SurgeryStep
    operationId: SawBones
    layer: Organ
    duration: 8
    requirements:
      requiresTissueRetracted: true
    applyPenalty: 8

- type: entity
  id: RepairBones1
  components:
  - type: SurgeryStep
    operationId: RepairSmashedBones
    sequenceId: RepairBonesSequence
    sequenceIndex: 0
    layer: Organ
    duration: 10
    requirements:
      requiresTissueRetracted: true

- type: entity
  id: RepairBones2
  components:
  - type: SurgeryStep
    operationId: RepairSmashedBones
    sequenceId: RepairBonesSequence
    sequenceIndex: 1
    layer: Organ
    duration: 12
    requirements:
      requiresTissueRetracted: true

- type: entity
  id: RepairBones3
  components:
  - type: SurgeryStep
    operationId: RepairSmashedBones
    sequenceId: RepairBonesSequence
    sequenceIndex: 2
    layer: Organ
    duration: 15
    requirements:
      requiresTissueRetracted: true

- type: entity
  id: RepairBones4
  components:
  - type: SurgeryStep
    operationId: RepairSmashedBones
    sequenceId: RepairBonesSequence
    sequenceIndex: 3
    layer: Organ
    duration: 12
    requirements:
      requiresTissueRetracted: true

- type: entity
  id: RepairBones5
  components:
  - type: SurgeryStep
    operationId: RepairSmashedBones
    sequenceId: RepairBonesSequence
    sequenceIndex: 4
    layer: Organ
    duration: 10
    requirements:
      requiresTissueRetracted: true
    layerStateChanges:
      setBonesSmashed: false

- type: entity
  id: ExposeMaintenanceScrewsStep
  components:
  - type: SurgeryStep
    operationId: ExposeMaintenanceScrews
    sequenceId: CyberLimbMaintenanceSequence
    sequenceIndex: 0
    layer: Skin
    duration: 5
    validPartTypes:
    - Arm
    - Leg
    applyPenalty: 1
    add:
    - type: MaintenanceScrewsExposed

- type: entity
  id: OpenMaintenancePanelStep
  components:
  - type: SurgeryStep
    operationId: OpenMaintenancePanel
    sequenceId: CyberLimbMaintenanceSequence
    sequenceIndex: 1
    layer: Skin
    duration: 3
    validPartTypes:
    - Arm
    - Leg
    applyPenalty: 1
    add:
    - type: MaintenancePanelOpen

- type: entity
  id: AdjustMaintenanceBoltsStep
  components:
  - type: SurgeryStep
    operationId: AdjustMaintenanceBolts
    sequenceId: CyberLimbMaintenanceSequence
    sequenceIndex: 2
    layer: Tissue
    duration: 8
    validPartTypes:
    - Arm
    - Leg
    requiresSkilledTechnician: true
    requirements:
      requiresSkinRetracted: false

- type: entity
  id: ReplaceMaintenanceWiringStep
  components:
  - type: SurgeryStep
    operationId: ReplaceMaintenanceWiring
    sequenceId: CyberLimbMaintenanceSequence
    sequenceIndex: 3
    layer: Tissue
    duration: 12
    validPartTypes:
    - Arm
    - Leg
    requiresSkilledTechnician: true
    add:
    - type: ServiceTimeReset

- type: entity
  id: CloseMaintenancePanelStep
  components:
  - type: SurgeryStep
    operationId: CloseMaintenancePanel
    sequenceId: CyberLimbMaintenanceSequence
    sequenceIndex: 4
    layer: Skin
    duration: 3
    validPartTypes:
    - Arm
    - Leg
    remove:
    - type: MaintenancePanelOpen

- type: entity
  id: SealMaintenancePanelStep
  components:
  - type: SurgeryStep
    operationId: SealMaintenancePanel
    sequenceId: CyberLimbMaintenanceSequence
    sequenceIndex: 5
    layer: Skin
    duration: 5
    validPartTypes:
    - Arm
    - Leg
    removePenaltyStepId: ExposeMaintenanceScrewsStep
    remove:
    - type: MaintenanceScrewsExposed

- type: entity
  id: RepairIonDamagedCyberLimbStep1
  components:
  - type: SurgeryStep
    operationId: RepairIonDamagedCyberLimb
    sequenceId: RepairIonDamagedCyberLimbSequence
    sequenceIndex: 0
    layer: Skin
    duration: 5
    validPartTypes:
    - Arm
    - Leg
    applyPenalty: 1
    add:
    - type: MaintenanceScrewsExposed

- type: entity
  id: RepairIonDamagedCyberLimbStep2
  components:
  - type: SurgeryStep
    operationId: RepairIonDamagedCyberLimb
    sequenceId: RepairIonDamagedCyberLimbSequence
    sequenceIndex: 1
    layer: Skin
    duration: 3
    validPartTypes:
    - Arm
    - Leg
    applyPenalty: 1
    add:
    - type: MaintenancePanelOpen

- type: entity
  id: DiagnoseIonDamageStep
  components:
  - type: SurgeryStep
    operationId: RepairIonDamagedCyberLimb
    sequenceId: RepairIonDamagedCyberLimbSequence
    sequenceIndex: 2
    layer: Tissue
    duration: 3
    validPartTypes:
    - Arm
    - Leg
    requirements:
      requiresSkinRetracted: false
    tool:
    - type: Tool

- type: entity
  id: RepairIonCircuitsStep
  components:
  - type: SurgeryStep
    operationId: RepairIonDamagedCyberLimb
    sequenceId: RepairIonDamagedCyberLimbSequence
    sequenceIndex: 3
    layer: Tissue
    duration: 5
    validPartTypes:
    - Arm
    - Leg
    requiresSkilledTechnician: true
    requirements:
      requiresSkinRetracted: false
    tool:
    - type: Tool
    add:
    - type: IonDamageRepaired

- type: entity
  id: RepairIonDamagedCyberLimbStep5
  components:
  - type: SurgeryStep
    operationId: RepairIonDamagedCyberLimb
    sequenceId: RepairIonDamagedCyberLimbSequence
    sequenceIndex: 4
    layer: Skin
    duration: 3
    validPartTypes:
    - Arm
    - Leg
    remove:
    - type: MaintenancePanelOpen

- type: entity
  id: RepairIonDamagedCyberLimbStep6
  components:
  - type: SurgeryStep
    operationId: RepairIonDamagedCyberLimb
    sequenceId: RepairIonDamagedCyberLimbSequence
    sequenceIndex: 5
    layer: Skin
    duration: 5
    validPartTypes:
    - Arm
    - Leg
    removePenaltyStepId: RepairIonDamagedCyberLimbStep1
    remove:
    - type: MaintenanceScrewsExposed
